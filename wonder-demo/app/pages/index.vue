<template>
  <div class="page-home">
    <div class="home-container">
      <!-- Hero Section -->
      <section class="hero-section">
        <div class="hero-content">
          <h1 class="hero-title">Wonder Lib</h1>
          <p class="hero-subtitle">ç°ä»£åŒ–çš„ Vue 3 ç»„ä»¶åº“</p>
          <p class="hero-description">
            åŸºäº Vue 3 + TypeScript + Vite æ„å»ºçš„é«˜è´¨é‡ç»„ä»¶åº“ï¼Œæä¾›ä¸°å¯Œçš„ç»„ä»¶ã€å·¥å…·å‡½æ•°å’Œ Composables
          </p>
          <div class="hero-actions">
            <a href="#demo" class="btn btn-primary">å¼€å§‹ä½¿ç”¨</a>
            <a href="https://github.com/your-username/wonder-lib" class="btn btn-secondary">GitHub</a>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="features-section">
        <h2 class="section-title">æ ¸å¿ƒç‰¹æ€§</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">ğŸš€</div>
            <h3 class="feature-title">ç°ä»£åŒ–æŠ€æœ¯æ ˆ</h3>
            <p class="feature-description">åŸºäº Vue 3 Composition APIã€TypeScript å’Œ Vite æ„å»º</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ¨</div>
            <h3 class="feature-title">ä¸°å¯Œçš„ç»„ä»¶</h3>
            <p class="feature-description">æä¾›æŒ‰é’®ã€è¾“å…¥æ¡†ã€å¡ç‰‡ç­‰å¸¸ç”¨ UI ç»„ä»¶</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ› ï¸</div>
            <h3 class="feature-title">å®ç”¨å·¥å…·</h3>
            <p class="feature-description">åŒ…å«æ ¼å¼åŒ–ã€éªŒè¯ã€æ—¥æœŸå¤„ç†ç­‰å·¥å…·å‡½æ•°</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ”§</div>
            <h3 class="feature-title">Composables</h3>
            <p class="feature-description">æä¾› useApiã€useAuthã€useTheme ç­‰ç»„åˆå¼å‡½æ•°</p>
          </div>
        </div>
      </section>

      <!-- Quick Start Section -->
      <section class="quickstart-section">
        <h2 class="section-title">å¿«é€Ÿå¼€å§‹</h2>
        <div class="quickstart-content">
          <div class="step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h3>å®‰è£…</h3>
              <pre><code>npm install wonder-lib</code></pre>
            </div>
          </div>
          <div class="step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h3>é…ç½®</h3>
              <pre><code>import { createApp } from 'vue'
import WonderLib from 'wonder-lib'
import 'wonder-lib/dist/style.css'

const app = createApp(App)
app.use(WonderLib)
app.mount('#app')</code></pre>
            </div>
          </div>
          <div class="step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h3>ä½¿ç”¨</h3>
              <pre><code>&lt;template&gt;
  &lt;WButton type="primary"&gt;ç‚¹å‡»æˆ‘&lt;/WButton&gt;
  &lt;WInput v-model="value" placeholder="è¯·è¾“å…¥..." /&gt;
&lt;/template&gt;</code></pre>
            </div>
          </div>
        </div>
      </section>

      <!-- Demo Section -->
      <section id="demo" class="demo-section">
        <h2 class="section-title">åŠŸèƒ½æ¼”ç¤º</h2>
        
        <!-- ç»„ä»¶æ¼”ç¤º -->
        <div class="demo-group">
          <h3 class="demo-title">åŸºç¡€ç»„ä»¶</h3>
          <div class="demo-content">
            <div class="demo-item">
              <h4>æŒ‰é’®ç»„ä»¶</h4>
              <div class="demo-buttons">
                <WButton type="primary" size="small" @click="handleClick">ä¸»è¦æŒ‰é’®</WButton>
                <WButton type="secondary" size="medium" @click="handleClick">æ¬¡è¦æŒ‰é’®</WButton>
                <WButton type="success" size="large" @click="handleClick">æˆåŠŸæŒ‰é’®</WButton>
                <WButton type="warning" variant="outline" @click="handleClick">è­¦å‘ŠæŒ‰é’®</WButton>
                <WButton type="danger" variant="ghost" @click="handleClick">å±é™©æŒ‰é’®</WButton>
              </div>
            </div>
            
            <div class="demo-item">
              <h4>è¾“å…¥æ¡†ç»„ä»¶</h4>
              <div class="demo-inputs">
                <WInput v-model="inputValue" placeholder="è¯·è¾“å…¥å†…å®¹" size="medium" clearable />
                <WInput v-model="inputValue2" placeholder="å¸¦å›¾æ ‡çš„è¾“å…¥æ¡†" size="large" type="text" />
              </div>
            </div>
            
            <div class="demo-item">
              <h4>å¡ç‰‡ç»„ä»¶</h4>
              <div class="demo-cards">
                <WCard title="åŸºç¡€å¡ç‰‡" shadow="medium" hoverable bordered rounded>
                  <p>è¿™æ˜¯ä¸€ä¸ªåŸºç¡€å¡ç‰‡çš„å†…å®¹åŒºåŸŸ</p>
                </WCard>
                <WCard title="é«˜çº§å¡ç‰‡" shadow="large" padding="large">
                  <p>è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰æ›´å¤šé…ç½®çš„å¡ç‰‡</p>
                </WCard>
              </div>
            </div>
          </div>
        </div>

        <!-- Composables æ¼”ç¤º -->
        <div class="demo-group">
          <h3 class="demo-title">Composables æ¼”ç¤º</h3>
          <div class="demo-content">
            <div class="demo-item">
              <h4>useStorage - æœ¬åœ°å­˜å‚¨</h4>
              <div class="demo-storage">
                <WInput v-model="storageValue" placeholder="è¾“å…¥è¦å­˜å‚¨çš„å€¼" />
                <WButton @click="saveToStorage">ä¿å­˜åˆ° localStorage</WButton>
                <WButton @click="loadFromStorage">ä» localStorage è¯»å–</WButton>
                <div v-if="storageResult" class="storage-result">{{ storageResult }}</div>
              </div>
            </div>
            
            <div class="demo-item">
              <h4>useTheme - ä¸»é¢˜åˆ‡æ¢</h4>
              <div class="demo-theme">
                <WButton @click="toggleTheme">åˆ‡æ¢ä¸»é¢˜</WButton>
                <div v-if="themeInfo" class="theme-info">å½“å‰ä¸»é¢˜: {{ themeInfo }}</div>
              </div>
            </div>
            
            <div class="demo-item">
              <h4>useApi - API è¯·æ±‚</h4>
              <div class="demo-api">
                <WButton @click="fetchData">è·å–æ•°æ®</WButton>
                <div v-if="apiResult" class="api-result">
                  <pre>{{ apiResult }}</pre>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Utils æ¼”ç¤º -->
        <div class="demo-group">
          <h3 class="demo-title">å·¥å…·å‡½æ•°æ¼”ç¤º</h3>
          <div class="demo-content">
            <div class="demo-item">
              <h4>æ ¼å¼åŒ–å·¥å…·</h4>
              <div class="demo-format">
                <WInput v-model="formatInput" placeholder="è¾“å…¥æ•°å­—" />
                <WButton @click="formatNumber">æ ¼å¼åŒ–ä¸ºè´§å¸</WButton>
                <div v-if="formatResult" class="format-result">{{ formatResult }}</div>
              </div>
            </div>
            
            <div class="demo-item">
              <h4>éªŒè¯å·¥å…·</h4>
              <div class="demo-validate">
                <WInput v-model="validateInput" placeholder="è¾“å…¥é‚®ç®±åœ°å€" />
                <WButton @click="validateEmail">éªŒè¯é‚®ç®±</WButton>
                <div v-if="validateResult" class="validate-result" :class="{ valid: isValid, invalid: !isValid }">
                  {{ validateResult }}
                </div>
              </div>
            </div>
            
            <div class="demo-item">
              <h4>å…¶ä»–å·¥å…·</h4>
              <div class="demo-utils">
                <WButton @click="generateId">ç”Ÿæˆéšæœº ID</WButton>
                <div v-if="utilsResult" class="utils-result">{{ utilsResult }}</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Stats Section -->
      <section class="stats-section">
        <h2 class="section-title">é¡¹ç›®æ•°æ®</h2>
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-number">20+</div>
            <div class="stat-label">ç»„ä»¶æ•°é‡</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">15+</div>
            <div class="stat-label">å·¥å…·å‡½æ•°</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">10+</div>
            <div class="stat-label">Composables</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">100%</div>
            <div class="stat-label">TypeScript</div>
          </div>
        </div>
      </section>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useStorage, useTheme, useApi } from 'wonder-lib'
import { formatCurrency, validateEmail as validateEmailUtil, generateId as generateUniqueId } from 'wonder-lib'

// å“åº”å¼æ•°æ®
const inputValue = ref('')
const inputValue2 = ref('')
const storageValue = ref('')
const storageResult = ref('')
const themeInfo = ref('')
const apiResult = ref('')
const formatInput = ref('')
const formatResult = ref('')
const validateInput = ref('')
const validateResult = ref('')
const isValid = ref(false)
const utilsResult = ref('')

// Composables
const { get: getStorage, set: setStorage } = useStorage()
const { theme, toggleTheme: toggle } = useTheme()
const { get: apiGet } = useApi()

// äº‹ä»¶å¤„ç†å‡½æ•°
function handleClick() {
  console.log('æŒ‰é’®è¢«ç‚¹å‡»äº†')
}

function saveToStorage() {
  setStorage('demo-key', storageValue.value)
  storageResult.value = `å·²ä¿å­˜: ${storageValue.value}`
}

function loadFromStorage() {
  const value = getStorage('demo-key')
  storageResult.value = `è¯»å–åˆ°: ${value || 'æ— æ•°æ®'}`
}

function toggleTheme() {
  toggle()
  themeInfo.value = theme.value
}

async function fetchData() {
  try {
    const data = await apiGet('https://jsonplaceholder.typicode.com/posts/1')
    apiResult.value = JSON.stringify(data, null, 2)
  } catch (error) {
    apiResult.value = `è¯·æ±‚å¤±è´¥: ${error.message}`
  }
}

function formatNumber() {
  const number = parseFloat(formatInput.value)
  if (!isNaN(number)) {
    formatResult.value = formatCurrency(number)
  } else {
    formatResult.value = 'è¯·è¾“å…¥æœ‰æ•ˆæ•°å­—'
  }
}

function validateEmail() {
  isValid.value = validateEmailUtil(validateInput.value)
  validateResult.value = isValid.value ? 'é‚®ç®±æ ¼å¼æ­£ç¡®' : 'é‚®ç®±æ ¼å¼é”™è¯¯'
}

function generateId() {
  const id = generateUniqueId()
  utilsResult.value = `ç”Ÿæˆçš„ID: ${id}`
}
</script>

<style lang="scss">
.page-home {
  .home-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }
  .hero-section {
    padding: 4rem 0;
    text-align: center;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    margin: 0 -2rem 4rem -2rem;
    .hero-content {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    .hero-title {
      font-size: 3.5rem;
      font-weight: bold;
      margin-bottom: 1rem;
      background: linear-gradient(45deg, #fff, #e0e7ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .hero-subtitle {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      opacity: 0.9;
    }
    .hero-description {
      font-size: 1.125rem;
      line-height: 1.7;
      margin-bottom: 2.5rem;
      opacity: 0.8;
    }
    .hero-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }
  }
  .btn {
    display: inline-block;
    padding: 0.75rem 2rem;
    border-radius: 0.5rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s;
  }
  .btn-primary {
    background: white;
    color: #4f46e5;
    &:hover {
      background: #f8fafc;
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
  }
  .btn-secondary {
    background: transparent;
    color: white;
    border: 2px solid white;
    &:hover {
      background: white;
      color: #4f46e5;
      transform: translateY(-2px);
    }
  }
  .section-title {
    font-size: 2.5rem;
    font-weight: bold;
    text-align: center;
    margin-bottom: 3rem;
    color: #1f2937;
  }
  .features-section {
    padding: 4rem 0;
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
    }
    .feature-card {
      background: white;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      border: 1px solid #e5e7eb;
      text-align: center;
      transition: transform 0.2s, box-shadow 0.2s;
      &:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);
      }
      .feature-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
      }
      .feature-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: #1f2937;
      }
      .feature-description {
        color: #6b7280;
        line-height: 1.6;
      }
    }
  }
  .quickstart-section {
    padding: 4rem 0;
    background: #f9fafb;
    margin: 0 -2rem;
    .section-title {
      padding: 0 2rem;
    }
    .quickstart-content {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 2rem;
    }
    .step {
      display: flex;
      align-items: flex-start;
      margin-bottom: 3rem;
      .step-number {
        width: 3rem;
        height: 3rem;
        background: #4f46e5;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.25rem;
        margin-right: 2rem;
        flex-shrink: 0;
      }
      .step-content {
        flex: 1;
        h3 {
          font-size: 1.25rem;
          font-weight: 600;
          margin-bottom: 1rem;
          color: #1f2937;
        }
        pre {
          background: #1f2937;
          color: #e5e7eb;
          padding: 1rem;
          border-radius: 0.5rem;
          overflow-x: auto;
          font-size: 0.875rem;
          code {
            font-family: 'Monaco', 'Menlo', monospace;
          }
        }
      }
    }
  }
  .demo-section {
    padding: 4rem 0;
    background: #f8fafc;
    margin: 0 -2rem;
    .section-title {
      padding: 0 2rem;
    }
    .demo-group {
      max-width: 1200px;
      margin: 0 auto 3rem auto;
      background: white;
      border-radius: 0.75rem;
      padding: 2rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      .demo-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: #1e293b;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #e2e8f0;
      }
      .demo-content {
        display: grid;
        gap: 2rem;
      }
      .demo-item {
        padding: 1.5rem;
        border: 1px solid #e2e8f0;
        border-radius: 0.5rem;
        background: #fafafa;
        h4 {
          font-size: 1.125rem;
          font-weight: 600;
          color: #374151;
          margin-bottom: 1rem;
        }
      }
      .demo-buttons,
      .demo-inputs,
      .demo-cards,
      .demo-storage,
      .demo-theme,
      .demo-api,
      .demo-format,
      .demo-validate,
      .demo-utils {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        align-items: center;
      }
      .demo-inputs {
        flex-direction: column;
        align-items: stretch;
        max-width: 400px;
      }
      .demo-storage,
      .demo-theme,
      .demo-api,
      .demo-format,
      .demo-validate,
      .demo-utils {
        flex-direction: column;
        align-items: stretch;
        max-width: 500px;
      }
      .demo-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.25rem;
      }
      .storage-result,
      .theme-info,
      .api-result,
      .format-result,
      .validate-result,
      .utils-result {
        margin-top: 1rem;
        padding: 0.75rem;
        border-radius: 0.375rem;
        font-family: 'Monaco', 'Menlo', monospace;
        font-size: 0.875rem;
        width: 100%;
      }
      .storage-result,
      .theme-info,
      .format-result,
      .utils-result {
        background: #e0f2fe;
        color: #0369a1;
        border: 1px solid #bae6fd;
      }
      .api-result {
        background: #f0f9ff;
        color: #0c4a6e;
        border: 1px solid #bae6fd;
        max-height: 200px;
        overflow-y: auto;
        pre {
          margin: 0;
          white-space: pre-wrap;
          word-break: break-word;
        }
      }
      .validate-result.valid {
        background: #dcfce7;
        color: #166534;
        border: 1px solid #bbf7d0;
      }
      .validate-result.invalid {
        background: #fef2f2;
        color: #dc2626;
        border: 1px solid #fecaca;
      }
    }
  }
  .stats-section {
    padding: 4rem 0;
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
    }
    .stat-item {
      text-align: center;
      .stat-number {
        font-size: 3rem;
        font-weight: bold;
        color: #4f46e5;
        margin-bottom: 0.5rem;
      }
      .stat-label {
        font-size: 1.125rem;
        color: #6b7280;
        font-weight: 500;
      }
    }
  }
}
@media (max-width: 768px) {
  .page-home {
    .hero-section {
      padding: 3rem 0;
      .hero-title {
        font-size: 2.5rem;
      }
      .hero-subtitle {
        font-size: 1.25rem;
      }
    }
    .section-title {
      font-size: 2rem;
    }
    .quickstart-section {
      .step {
        flex-direction: column;
        text-align: center;
        .step-number {
          margin: 0 auto 1rem auto;
        }
      }
    }
    .demo-section {
      .demo-group {
        padding: 1.25rem;
        margin-bottom: 2rem;
      }
      .demo-buttons,
      .demo-inputs,
      .demo-storage,
      .demo-theme,
      .demo-api,
      .demo-format,
      .demo-validate,
      .demo-utils {
        flex-direction: column;
        align-items: stretch;
      }
      .demo-cards {
        grid-template-columns: 1fr;
      }
    }
  }
}
:deep(.w-button) {
  margin: 0.25rem;
}
:deep(.w-input) {
  margin-bottom: 0.5rem;
}
:deep(.w-card) {
  background-color: rgba(255, 255, 255, 0.95) !important;
  color: #1f2937 !important;
}
:deep(.w-card__title) {
  color: #1f2937 !important;
}
</style>